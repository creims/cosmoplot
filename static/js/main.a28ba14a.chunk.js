(window.webpackJsonpcosmochart=window.webpackJsonpcosmochart||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),o=n.n(i),c=(n(10),n(4)),l=n(1);function u(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function h(e){return"("+e.x+", "+e.y+")"}function s(e){var t=[],n=[],r=e.length-1,a=[],i=[],o=[],c=[];a[0]=0,i[0]=2,o[0]=1,c[0]=e[0]+2*e[1];for(var l=1;l<r-1;l++)a[l]=1,i[l]=4,o[l]=1,c[l]=4*e[l]+2*e[l+1];a[r-1]=2,i[r-1]=7,o[r-1]=0,c[r-1]=8*e[r-1]+e[r];for(var u=1;u<r;u++){var h=a[u]/i[u-1];i[u]=i[u]-h*o[u-1],c[u]=c[u]-h*c[u-1]}t[r-1]=c[r-1]/i[r-1];for(var s=r-2;s>=0;--s)t[s]=(c[s]-o[s]*t[s+1])/i[s];for(var d=0;d<r-1;d++)n[d]=2*e[d+1]-t[d+1];return n[r-1]=.5*(e[r]+t[r-1]),{cp1:t,cp2:n}}function d(e,t){var n=u(e,t);return n<1e-5?1e-5:n}function x(e,t){var n,r=t.slice(),a=e.slice(),i=a.length,o=[],c=[],l=[],u=[];r[-1]=r[i-1],r[i]=r[0],a[i]=a[0];for(var h=0;h<i;h++)n=r[h]/r[h+1],o[h]=r[h]*r[h],c[h]=2*r[h-1]*(r[h-1]+r[h]),l[h]=r[h-1]*r[h-1]*n,u[h]=Math.pow(r[h-1]+r[h],2)*a[h]+Math.pow(r[h-1],2)*(1+n)*a[h+1];var s=function(e,t,n,r){var a,i,o=e.slice(),c=t.slice(),l=n.slice(),u=r.slice(),h=o.length,s=new Array(h);s[0]=c[0];var d=u[h-1];for(a=0;a<h-3;a++)i=c[a+1]/l[a],l[a+1]-=i*u[a],o[a+1]-=i*o[a],s[a+1]=-i*s[a],i=d/l[a],l[h-1]-=i*s[a],d=-i*u[a],o[h-1]-=i*o[a];i=c[a+1]/l[a],l[a+1]-=i*u[a],o[a+1]-=i*o[a],u[a+1]-=i*s[a],i=d/l[a],l[h-1]-=i*s[a],c[h-1]-=i*u[a],o[h-1]=o[h-1]-i*o[a],i=c[(a=h-2)+1]/l[a],l[a+1]-=i*u[a],o[a+1]-=i*o[a];var x=new Array(h);for(x[h-1]=o[h-1]/l[h-1],s[h-2]=0,a=h-2;a>=0;--a)x[a]=(o[a]-u[a]*x[a+1]-s[a]*x[h-1])/l[a];return x}(u,o,c,l),d=[];s[i]=s[0];for(var x=0;x<i;x++)d[x]=a[x+1]*(1+r[x]/r[x+1])-s[x+1]*(r[x]/r[x+1]);return{cp1:s,cp2:d}}var m=8;function f(e,t,n,r){if(!(t.length<2)){var a,i=t[0];e.beginPath(),r&&(e.strokeStyle="gray",e.lineWidth=.5),e.moveTo(i.x,i.y);for(var o=1;o<t.length;o++)a=t[o],e.lineTo(a.x,a.y);n&&e.lineTo(i.x,i.y),e.stroke(),r&&(e.strokeStyle="black",e.lineWidth=1)}}function v(e,t,n,r,a){e.beginPath(),e.moveTo(t.x,t.y),e.bezierCurveTo(n.x,n.y,r.x,r.y,a.x,a.y),e.stroke()}function y(e,t,n,r){e.beginPath(),e.moveTo(t.x,t.y),e.quadraticCurveTo(n.x,n.y,r.x,r.y),e.stroke()}function p(e,t,n){for(var r=0;r<t.length;){var a=t.length-r,i=t[r];if(a>=4){var o=t[r+1],c=t[r+2],l=t[r+3];n&&f(e,[i,o,c,l],!1,!0),v(e,i,o,c,l),r+=3}else if(3===a){var u=t[r+1],h=t[r+2];n&&f(e,[i,u,h],!1,!0),y(e,i,u,h),r+=2}else{if(2!==a)break;f(e,[i,t[r+1]],!1,!1),r++}}}function b(e,t,n,r){switch(r&&"spline"!==n&&(t=t.slice()).push(t[0]),n){case"spline":p(e,r?function(e){if(e.length<3)return e;for(var t=e.length-1,n=[],r=0;r<t;r++)n.push(d(e[r],e[r+1]));n.push(d(e[0],e[t]));for(var a=x(e.map(function(e){return e.x}),n),i=x(e.map(function(e){return e.y}),n),o=[e[0]],c=0;c<e.length;c++)o.push({x:a.cp1[c],y:i.cp1[c]}),o.push({x:a.cp2[c],y:i.cp2[c]}),o.push(c===t?e[0]:e[c+1]);return o}(t):function(e){if(e.length<3)return e;for(var t=s(e.map(function(e){return e.x})),n=s(e.map(function(e){return e.y})),r=[e[0]],a=0;a<e.length-1;a++)r.push({x:t.cp1[a],y:n.cp1[a]}),r.push({x:t.cp2[a],y:n.cp2[a]}),r.push(e[a+1]);return r}(t),!1);break;case"bezier":p(e,t,!0);break;case"line":f(e,t,!1,!1)}}function g(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1];return[n,Object(r.useCallback)(function(e){null!==e&&a(e.getContext("2d"))},[])]}function w(e,t,n){var r=function(e,t){var n=Math.log10(t/e),r=Math.pow(10,Math.floor(n)),a=t/(r*e);return a>5?5*r:a>2?2*r:r}(14,Math.max(e.x.extent,e.y.extent)),a={dx:r,dy:r},i={dx:t/(e.x.extent/a.dx),dy:n/(e.y.extent/a.dy)},o=Math.abs(e.x.min)%r,c=Math.abs(e.y.min)%r;return o=e.x.min>0?-o:o,c=e.y.min>0?-c:c,{worldStarts:{x:o+e.x.min,y:c+e.y.min},deviceStarts:{x:o/e.x.extent*t,y:c/e.y.extent*n},worldIncrements:a,deviceIncrements:i}}function E(e){return(Math.round(1e3*e)/1e3).toString()}function k(e,t,n,r,a){var i=e.measureText(t);a&&(n+=i.width/2),e.fillStyle="white",e.fillRect(n-i.width/2,r-8,i.width,16),e.fillStyle="black",e.fillText(t,n,r)}var O=function(e){var t=g(),n=Object(l.a)(t,2),i=n[0],o=n[1],c=w(e.viewport,e.width,e.height);return Object(r.useEffect)(function(){null!==i&&function(e,t,n,r){if(null!==e){e.clearRect(0,0,t,n),e.strokeStyle="gray",e.textBaseline="middle",e.textAlign="center",e.font="16px monospace";for(var a=r.worldStarts.y,i=r.worldIncrements.dy/2,o=n-r.deviceStarts.y;o>=0;o-=r.deviceIncrements.dy)a+i>0&&a-i<0?(e.strokeStyle="black",e.strokeRect(0,o,t,.8),e.strokeStyle="gray"):e.strokeRect(0,o,t,.1),k(e,E(a),0,o,!0),a+=r.worldIncrements.dy;var c=r.worldStarts.x;i=r.worldIncrements.dx/2;for(var l=r.deviceStarts.x;l<t;l+=r.deviceIncrements.dx)c+i>0&&c-i<0?(e.strokeStyle="black",e.strokeRect(l,0,.8,n),e.strokeStyle="gray"):e.strokeRect(l,0,.1,n),k(e,E(c),l,10,!1),c+=r.worldIncrements.dx}}(i,e.width,e.height,c)},[i,e,c]),a.a.createElement("canvas",{ref:o,width:e.width,height:e.height,className:"fixed layer-bottom"})},j=function(e){var t=g(),n=Object(l.a)(t,2),i=n[0],o=n[1];return Object(r.useEffect)(function(){null!==i&&(i.clearRect(0,0,e.width,e.height),b(i,e.points,e.lineType,e.isCycle),e.points.forEach(function(t,n){var r;r=n===e.activePoint?"red":"blue",function(e,t,n){e.fillStyle=n,e.beginPath(),e.arc(t.x,t.y,m,0,2*Math.PI),e.fill()}(i,t,r)}))},[i,e]),a.a.createElement("canvas",{ref:o,width:e.width,height:e.height,className:"fixed layer-middle"})},S=(n(11),function(e){var t=e.show?"Modal-show":"Modal-hide";return a.a.createElement("div",{className:"Modal "+t},a.a.createElement("div",{className:"ui-box Modal-box"},a.a.createElement("h1",{className:"Modal-header"},e.title),e.children,a.a.createElement("button",{className:"Modal-close-button",onClick:e.handleClose},"Close")))});function C(e,t){var n=e.x.extent*t,r=e.y.extent*t,a=(e.x.extent-n)/2+e.x.min,i=(e.y.extent-r)/2+e.y.min;return{x:{min:a,max:a+n,extent:n},y:{min:i,max:i+r,extent:r}}}function M(e){if(0===e.length)return"[]";for(var t="["+h(e[0]),n=1;n<e.length;n++)t+=","+h(e[n]);return t+"]"}var I=function(e){var t,n,i=Object(r.useState)(void 0),o=Object(l.a)(i,2),h=o[0],s=o[1],d=Object(r.useState)(!1),x=Object(l.a)(d,2),f=x[0],v=x[1],y=Object(r.useState)([]),p=Object(l.a)(y,2),b=p[0],g=p[1],w=Object(r.useState)([]),E=Object(l.a)(w,2),k=E[0],I=E[1],P=Object(r.useState)((t=e.width,n=e.height,function(e,t,n,r){var a=1,i=1;n>r?i=r/n:a=n/r;var o=e*a,c=t*a,l=e*i,u=t*i;return{x:{min:o,max:c,extent:c-o},y:{min:l,max:u,extent:u-l}}}(-10.5,10.5,t,n))),T=Object(l.a)(P,2),N=T[0],z=T[1],R=Object(r.useState)("spline"),Y=Object(l.a)(R,2),B=Y[0],F=Y[1],D=Object(r.useState)(!1),W=Object(l.a)(D,2),X=W[0],A=W[1],q=Object(r.useState)(!1),J=Object(l.a)(q,2),L=J[0],H=J[1],K=Object(r.useState)(!1),U=Object(l.a)(K,2),G=U[0],Q=U[1];function V(t){return{x:t.x/e.width*N.x.extent+N.x.min,y:(e.height-t.y)/e.height*N.y.extent+N.y.min}}var Z=Object(r.useCallback)(function(t){return{x:Math.round((t.x-N.x.min)/N.x.extent*e.width),y:Math.round(e.height-(t.y-N.y.min)/N.y.extent*e.height)}},[e.width,e.height,N]);return Object(r.useEffect)(function(){I(b.map(Z))},[Z,b]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{width:e.width,height:e.height},tabIndex:0,onPointerDown:function(e){var t=m,n={x:e.clientX,y:e.clientY},r=void 0;k.forEach(function(e,a){var i=u(n,e);i<t&&(r=a,t=i)}),h!==r&&s(r),v(!0)},onPointerMove:function(t){if(f)if(t.preventDefault(),void 0===h){var n=t.movementX/e.width,r=(N.x.max-N.x.min)*n,a=N.x.min-r,i=N.x.max-r,o=t.movementY/e.height,c=(N.y.max-N.y.min)*o,l=N.y.min+c,u=N.y.max+c;z({x:{min:a,max:i,extent:i-a},y:{min:l,max:u,extent:u-l}})}else{var s={x:t.clientX,y:t.clientY},d=b.slice();d[h]=V(s),g(d)}},onPointerUp:function(e){v(!1)},onDoubleClick:function(e){var t={x:e.clientX,y:e.clientY};s(b.length),g([].concat(Object(c.a)(b),[V(t)]))},onWheel:function(e){0!==e.deltaY&&(e.deltaY>0?z(C(N,1.2)):z(C(N,.8)))},onKeyDown:function(e){switch(e.key){case"d":void 0!==h&&(k.splice(h,1),b.splice(h,1),s(void 0),g(b))}},onBlur:function(){s(void 0)},className:"fixed layer-top"}),a.a.createElement(O,{width:e.width,height:e.height,viewport:N}),a.a.createElement(j,{width:e.width,height:e.height,points:k,activePoint:h,lineType:B,isCycle:X}),a.a.createElement("div",{id:"controls",className:"ui-box layer-control"},a.a.createElement("button",{onClick:function(){g([]),s(void 0)}},"Clear"),a.a.createElement("select",{id:"line-style",onChange:function(e){F(e.target.value)}},a.a.createElement("option",{value:"spline"},"Spline"),a.a.createElement("option",{value:"bezier"},"Bezier"),a.a.createElement("option",{value:"line"},"Line"),a.a.createElement("option",{value:"plot"},"Plot")),a.a.createElement("div",null,a.a.createElement("input",{type:"checkbox",onChange:function(e){A(e.target.checked)}}),a.a.createElement("label",{htmlFor:"cycle"},"Cycle")),a.a.createElement("button",{onClick:function(){H(!0)}},"Export"),a.a.createElement("button",{onClick:function(){Q(!0)}},"Import")),a.a.createElement(S,{title:"Export Points",children:a.a.createElement("textarea",{readOnly:!0,style:{resize:"none"},value:M(b)}),show:L,handleClose:function(){H(!1)}}),a.a.createElement(S,{title:"Import Points",children:a.a.createElement(a.a.Fragment,null,a.a.createElement("textarea",{id:"importText",style:{resize:"none"}}),a.a.createElement("button",{onClick:function(){var e=document.getElementById("importText").value;g(function(e){var t={x:void 0,points:[]};return e.replace(/[^\d.,-]/gi,"").split(",").map(function(e){return Number.parseFloat(e)}).reduce(function(e,t){return void 0!==e.x?(e.points.push({x:e.x,y:t}),e.x=void 0):e.x=t,e},t).points}(e))}},"Import")),show:G,handleClose:function(){Q(!1)}}))},P=(n(12),function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(I,{width:e.width,height:e.height}))});function T(){o.a.render(a.a.createElement(P,{width:window.innerWidth,height:window.innerHeight}),document.getElementById("root"))}window.addEventListener("resize",T),T()}],[[5,1,2]]]);
//# sourceMappingURL=main.a28ba14a.chunk.js.map