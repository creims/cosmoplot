(window.webpackJsonpcosmochart=window.webpackJsonpcosmochart||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(4),c=n.n(r),o=(n(10),n(2)),l=n(1);var h=5;function x(e,t,n){if(!(t.length<2)){var i,a=t[0];e.beginPath(),e.moveTo(a.x,a.y);for(var r=1;r<t.length;r++)i=t[r],e.lineTo(i.x,i.y);n&&e.lineTo(a.x,a.y),e.stroke()}}function u(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1];return[n,Object(i.useCallback)(function(e){null!==e&&a(e.getContext("2d"))},[])]}function d(e,t,n){var i=function(e,t){var n=Math.log10(t/e),i=Math.pow(10,Math.floor(n)),a=t/(i*e);return a>5?5*i:a>2?2*i:i}(14,Math.max(e.x.extent,e.y.extent)),a={dx:i,dy:i},r={dx:t/(e.x.extent/a.dx),dy:n/(e.y.extent/a.dy)},c=Math.abs(e.x.min)%i,o=Math.abs(e.y.min)%i;return c=e.x.min>0?-c:c,o=e.y.min>0?-o:o,{worldStarts:{x:c+e.x.min,y:o+e.y.min},deviceStarts:{x:c/e.x.extent*t,y:o/e.y.extent*n},worldIncrements:a,deviceIncrements:r}}function m(e){return(Math.round(1e3*e)/1e3).toString()}function s(e,t,n,i,a){var r=e.measureText(t);a&&(n+=r.width/2),e.fillStyle="white",e.fillRect(n-r.width/2,i-8,r.width,16),e.fillStyle="black",e.fillText(t,n,i)}var y=function(e){var t=u(),n=Object(l.a)(t,2),r=n[0],c=n[1],o=d(e.viewport,e.width,e.height);return Object(i.useEffect)(function(){null!==r&&function(e,t,n,i){if(null!==e){e.clearRect(0,0,t,n),e.strokeStyle="gray",e.textBaseline="middle",e.textAlign="center",e.font="16px monospace";for(var a=i.worldStarts.y,r=i.worldIncrements.dy/2,c=n-i.deviceStarts.y;c>=0;c-=i.deviceIncrements.dy)a+r>0&&a-r<0?(e.strokeStyle="black",e.strokeRect(0,c,t,.8),e.strokeStyle="gray"):e.strokeRect(0,c,t,.1),s(e,m(a),0,c,!0),a+=i.worldIncrements.dy;var o=i.worldStarts.x;r=i.worldIncrements.dx/2;for(var l=i.deviceStarts.x;l<t;l+=i.deviceIncrements.dx)o+r>0&&o-r<0?(e.strokeStyle="black",e.strokeRect(l,0,.8,n),e.strokeStyle="gray"):e.strokeRect(l,0,.1,n),s(e,m(o),l,10,!1),o+=i.worldIncrements.dx}}(r,e.width,e.height,o)},[r,e,o]),a.a.createElement("canvas",{ref:c,width:e.width,height:e.height,className:"fixed layer-bottom"})},f=function(e){var t=u(),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)(function(){null!==r&&(r.clearRect(0,0,e.width,e.height),function(e,t,n){switch(n){case"bezier":e.beginPath();for(var i=0;i<t.length;){var a=t.length-i;if(e.moveTo(t[i].x,t[i].y),a>=4){var r=t[i+1],c=t[i+2],o=t[i+3];e.bezierCurveTo(r.x,r.y,c.x,c.y,o.x,o.y),i+=3}else if(3===a){var l=t[i+1],h=t[i+2];e.quadraticCurveTo(l.x,l.y,h.x,h.y),i+=2}else{if(2!==a)break;var u=t[i+1];e.lineTo(u.x,u.y),i++}}e.stroke();break;case"cycle":x(e,t,!0);break;case"line":x(e,t,!1)}}(r,e.points,e.lineType),e.points.forEach(function(t,n){var i;i=n===e.activePoint?"red":"blue",function(e,t,n){e.fillStyle=n,e.beginPath(),e.arc(t.x,t.y,h,0,2*Math.PI),e.fill()}(r,t,i)}))},[r,e.points,e.activePoint,e.width,e.height,e.lineType]),a.a.createElement("canvas",{ref:c,width:e.width,height:e.height,className:"fixed layer-middle"})};function v(e,t){return{x:{min:e.x.min*t,max:e.x.max*t,extent:e.x.extent*t},y:{min:e.y.min*t,max:e.y.max*t,extent:e.y.extent*t}}}var w=function(e){var t,n,r=Object(i.useState)(void 0),c=Object(l.a)(r,2),x=c[0],u=c[1],d=Object(i.useState)(!1),m=Object(l.a)(d,2),s=m[0],w=m[1],b=Object(i.useState)([]),g=Object(l.a)(b,2),p=g[0],j=g[1],O=Object(i.useState)([]),k=Object(l.a)(O,2),S=k[0],E=k[1],M=Object(i.useState)((t=e.width,n=e.height,function(e,t,n,i){var a=1,r=1;n>i?r=i/n:a=n/i;var c=e*a,o=t*a,l=e*r,h=t*r;return{x:{min:c,max:o,extent:o-c},y:{min:l,max:h,extent:h-l}}}(-10.5,10.5,t,n))),T=Object(l.a)(M,2),P=T[0],I=T[1],C=Object(i.useState)("bezier"),R=Object(l.a)(C,2),z=R[0],Y=R[1];function N(t){return{x:t.x/e.width*P.x.extent+P.x.min,y:(e.height-t.y)/e.height*P.y.extent+P.y.min}}var X=Object(i.useCallback)(function(t){return{x:Math.round((t.x-P.x.min)/P.x.extent*e.width),y:Math.round(e.height-(t.y-P.y.min)/P.y.extent*e.height)}},[e.width,e.height,P]);return Object(i.useEffect)(function(){E(p.map(X))},[X,p]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{width:e.width,height:e.height},onPointerDown:function(e){var t=h,n={x:e.clientX,y:e.clientY},i=void 0;S.forEach(function(e,a){var r=function(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}(n,e);r<t&&(i=a,t=r)}),x!==i&&u(i),w(!0)},onPointerMove:function(t){if(s)if(void 0===x){var n=t.movementX/e.width,i=(P.x.max-P.x.min)*n,a=P.x.min-i,r=P.x.max-i,c=t.movementY/e.height,o=(P.y.max-P.y.min)*c,l=P.y.min+o,h=P.y.max+o;I({x:{min:a,max:r,extent:r-a},y:{min:l,max:h,extent:h-l}})}else{var u={x:t.clientX,y:t.clientY},d=p.slice();d[x]=N(u),j(d)}},onPointerUp:function(e){w(!1)},onDoubleClick:function(e){var t={x:e.clientX,y:e.clientY};u(p.length),E([].concat(Object(o.a)(S),[t])),j([].concat(Object(o.a)(p),[N(t)]))},onWheel:function(e){0!==e.deltaY&&(e.deltaY>0?I(v(P,1.2)):I(v(P,.8)))},className:"fixed layer-top"}),a.a.createElement(y,{width:e.width,height:e.height,viewport:P}),a.a.createElement(f,{width:e.width,height:e.height,points:S,activePoint:x,lineType:z}),a.a.createElement("select",{className:"layer-control",id:"line-style",onChange:function(e){Y(e.target.value)}},a.a.createElement("option",{value:"bezier"},"Bezier"),a.a.createElement("option",{value:"line"},"Line"),a.a.createElement("option",{value:"cycle"},"Cycle"),a.a.createElement("option",{value:"plot"},"Plot")))},b=(n(11),function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(w,{width:e.width,height:e.height}))});function g(){c.a.render(a.a.createElement(b,{width:window.innerWidth,height:window.innerHeight}),document.getElementById("root"))}window.addEventListener("resize",g),g()}],[[5,1,2]]]);
//# sourceMappingURL=main.f309b128.chunk.js.map